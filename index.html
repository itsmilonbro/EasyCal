<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üîê EasyCal :Login portal</title>
    <link rel="stylesheet" href="css/login.css">
<!-- PWA Manifest -->
    <link rel="manifest" href="./manifest.json">
    
    <!-- iOS Safari Icons -->
    <link rel="apple-touch-icon" href="./assets/icons/icon-152x152.png">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="EasyCal">
    
    <!-- Android/Chrome Icons -->
    <link rel="icon" type="image/png" sizes="192x192" href="./assets/icons/icon-192x192.png">
    <link rel="icon" type="image/png" sizes="512x512" href="./assets/icons/icon-512x512.png">
    
    <!-- Theme Color -->
    <meta name="theme-color" content="#667eea">
</head>
<body>
    <!-- Animated Background -->
    <div class="animated-bg">
        <div class="shape shape-1"></div>
        <div class="shape shape-2"></div>
        <div class="shape shape-3"></div>
        <div class="shape shape-4"></div>
    </div>

    <div class="login-container">
        <div class="login-card">
            <!-- Logo Section -->
            <div class="logo-section">
                <div class="logo-wrapper">
                    <img src="assets/images/logo.png" alt="EasyCal Logo" class="logo">
                    <div class="logo-glow"></div>
                </div>
                <h1>üõ†Ô∏è EasyCal</h1>
                <p class="tagline">Multi-Tool Calculation Platform</p>
            </div>

            <!-- Login Form -->
            <form id="loginForm" class="login-form">
                <div class="form-group">
                    <label for="phone">Phone Number</label>
                    <div class="input-wrapper">
                        <input 
                            type="tel" 
                            id="phone" 
                            name="phone" 
                            placeholder="Enter your registered phone number" 
                            required
                            pattern="[0-9]{10,11}"
                            title="Enter your 11 Digit Registred Phone Number"
                        >
                        <span class="input-icon">‚òéÔ∏è </span>
                    </div>
                    <span class="error-message" id="phoneError"></span>
                </div>

                <div class="form-group">
                    <label for="password">Password</label>
                    <div class="input-wrapper">
                        <input 
                            type="password" 
                            id="password" 
                            name="password" 
                            placeholder="Enter your password" 
                            required
                            minlength="4"
                        >
                        <span class="input-icon">üîí</span>
                    </div>
                    <span class="error-message" id="passwordError"></span>
                </div>

                <button type="submit" class="login-btn" id="loginBtn">
                    <span class="btn-text">Login</span>
                    <span class="btn-loading" style="display: none;">
                        <div class="loading-spinner"></div>
                        Logging in...
                    </span>
                </button>

                <!-- New Registration Button -->
                <button type="button" class="register-btn" id="registerBtn">
                    <span class="btn-text">üë§ New Registration</span>
                </button>
            </form>

            <!-- Quick Links -->
            <div class="quick-links">
                <a href="#" class="quick-link">Forgot Password ‚ÅâÔ∏è</a>
                <span class="divider">‚Ä¢</span>
                <a href="#" class="quick-link"> üíª Need Help?</a>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="login-footer">
        <div class="footer-content">
            <p>&copy; 2026 EasyCal ‚úîÔ∏èAll rights reserved | Multi-Tool Calculation Platform by <a href="https://facebook.com/itsmilonbro" target="_blank">Freelancer Milon</a></p>
            <div class="footer-links">
                <a href="#">Privacy Policy</a> | 
                <a href="#">Terms of Service</a> | 
                <a href="https://wa.me/8801955255066?text=Need Support for EasyCal WebApp">Contact Support</a>
            </div>
        </div>
    </footer>

    <!-- JavaScript -->
  <!-- old ver  <script src="js/auth.js"></script> -->
  <!-- Update new -->
<script type="module" src="js/auth.js"></script>

<!-- added PWA feture - service-worker  -->
<script>
// PWA Service Worker Registration
if ('serviceWorker' in navigator) {
    window.addEventListener('load', function() {
        navigator.serviceWorker.register('./service-worker.js', { scope: './' })
            .then(function(registration) {
                console.log('EasyCal: Service Worker registered with scope:', registration.scope);
                
                // Check for updates
                registration.addEventListener('updatefound', function() {
                    const newWorker = registration.installing;
                    console.log('EasyCal: New Service Worker found, installing...');
                    
                    newWorker.addEventListener('statechange', function() {
                        if (newWorker.state === 'installed' && navigator.serviceWorker.controller) {
                            console.log('EasyCal: New content available, please refresh.');
                            // You could show a "Update available" notification here
                        }
                    });
                });
            })
            .catch(function(error) {
                console.log('EasyCal: Service Worker registration failed:', error);
            });
    });
}

// Request notification permission
if ('Notification' in window && Notification.permission === 'default') {
    Notification.requestPermission().then(function(permission) {
        console.log('EasyCal: Notification permission:', permission);
    });
}
</script>

</body>
            </html>
